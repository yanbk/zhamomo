function LoadingSample4(height, background, color, loadimg) {
    base(this, LSprite, []);
    var s = this,
		c = LGlobal.canvas;
    s.backgroundColor = background == null ? "#000000" : background;
    s.graphics.drawRect(1, s.backgroundColor, [0, 0, LGlobal.width, LGlobal.height], true, s.backgroundColor);
    if (color == null) color = "#FFFFFF";

    var loading_bgLBitmap = new LBitmap(new LBitmapData(loadimg["bj1"]));
    s.addChild(loading_bgLBitmap);

    var loading_bgtop = new LSprite();
    loading_bgtop.graphics.drawRect(0, "#ff0000", [0,0, 640, 4], true, "#ff0898");
    s.addChild(loading_bgtop);

    var loading_bgleft = new LSprite();
    loading_bgleft.graphics.drawRect(0, "#ff0000", [0, 0, 4, LGlobal.height - 4], true, "#ff0898");
    s.addChild(loading_bgleft);

    var loading_bgright = new LSprite();
    loading_bgright.graphics.drawRect(0, "#ff0000", [636, 0, 4, LGlobal.height - 4], true, "#ff0898");
    s.addChild(loading_bgright);  

    var loading_bgbottom = new LSprite();
    loading_bgbottom.graphics.drawRect(0, "#ff0000", [0, LGlobal.height-4, 640, 4], true, "#ff0898");
    s.addChild(loading_bgbottom);  

    s.loadingSprit = new LSprite();
    s.loadingSprit.x =0;
    s.loadingSprit.y = 400;
    s.addChild(s.loadingSprit);

    s.loadlineLBitmap = new LBitmap(new LBitmapData(loadimg["leftmusic1"]));
    s.loadlineLBitmap.x =-115;
    s.loadlineLBitmap.y = 55;
    s.loadingSprit.addChild(s.loadlineLBitmap);

    s.loadlineLBitmap1 = new LBitmap(new LBitmapData(loadimg["leftmusic2"]));
    s.loadlineLBitmap1.x = -115 - s.loadlineLBitmap.getWidth();
    s.loadlineLBitmap1.y = 55;
    s.loadingSprit.addChild(s.loadlineLBitmap1);

    s.maskObj = new LSprite();
    s.maskObj.graphics.drawRect(0, "#ff0000", [4, 420, 224, 120]);
    s.loadingSprit.mask = s.maskObj;

    s.loadingSprit1 = new LSprite();
    s.loadingSprit1.x = 400;
    s.loadingSprit1.y = 400;
    s.addChild(s.loadingSprit1);

    s.loadlineLBitmap2 = new LBitmap(new LBitmapData(loadimg["rightmusic1"]));
    s.loadlineLBitmap2.x = 0;
    s.loadlineLBitmap2.y = 55;
    s.loadingSprit1.addChild(s.loadlineLBitmap2);

    s.loadlineLBitmap3 = new LBitmap(new LBitmapData(loadimg["rightmusic2"]));
    s.loadlineLBitmap3.x = s.loadlineLBitmap2.getWidth();
    s.loadlineLBitmap3.y = 55;
    s.loadingSprit1.addChild(s.loadlineLBitmap3);

    s.maskObj1 = new LSprite();
    s.maskObj1.graphics.drawRect(0, "#ff0000", [404, 420, 233, 140]);
    s.loadingSprit1.mask = s.maskObj1;


    s.loadingarcSprit = new LSprite();
    s.loadingarcSprit.x = 224;
    s.loadingarcSprit.y = 350;
    s.addChild(s.loadingarcSprit);

    s.loadarcLBitmap = new LBitmap(new LBitmapData(loadimg["loading_pic3"]));
    s.loadarcLBitmap.x = 0;
    s.loadarcLBitmap.y = 55;
    s.loadingarcSprit.addChild(s.loadarcLBitmap);
  

    s.progress = 0;
    s.label = new LTextField();
    s.label.color = color;
    s.label.weight = "bolder";
    s.label.size = 22;
    s.label.x = LGlobal.width * 0.6;
    s.label.y = 480 - s.label.getHeight() * 0.5;
    s.addChild(s.label);
 // return; 
    s.setProgress(s.progress);
}
LoadingSample4.prototype.onFrame = function () {
    var s = this;
    s.loadlineLBitmap.x += 2;
    s.loadlineLBitmap1.x += 2;
    if (s.loadlineLBitmap.x > 224) {
        s.loadlineLBitmap.x = s.loadlineLBitmap1.x - s.loadlineLBitmap1.getWidth();
    }
    if (s.loadlineLBitmap1.x > 224) {
        s.loadlineLBitmap1.x = s.loadlineLBitmap.x - s.loadlineLBitmap1.getWidth();
    }
    s.loadlineLBitmap2.x -= 2;
    s.loadlineLBitmap3.x -= 2;
    if (s.loadlineLBitmap2.x < -224) {
        s.loadlineLBitmap2.x = s.loadlineLBitmap3.x + s.loadlineLBitmap3.getWidth();
    }
    if (s.loadlineLBitmap3.x < -224) {
        s.loadlineLBitmap3.x = s.loadlineLBitmap2.x + s.loadlineLBitmap3.getWidth();
    }
}
LoadingSample4.prototype.setProgress = function (value) {
    var s = this;
    s.loadlineLBitmap.x += 2;
    s.loadlineLBitmap1.x += 2;
    if (s.loadlineLBitmap.x > 224) {
        s.loadlineLBitmap.x = s.loadlineLBitmap1.x - s.loadlineLBitmap1.getWidth();
    }
    if (s.loadlineLBitmap1.x > 224) {
        s.loadlineLBitmap1.x = s.loadlineLBitmap.x - s.loadlineLBitmap1.getWidth();
    }
    s.loadlineLBitmap2.x -= 2;
    s.loadlineLBitmap3.x -= 2;   
    if (s.loadlineLBitmap2.x < -224) {
        s.loadlineLBitmap2.x = s.loadlineLBitmap3.x + s.loadlineLBitmap3.getWidth();
    }
    if (s.loadlineLBitmap3.x < -224) {
        s.loadlineLBitmap3.x = s.loadlineLBitmap2.x + s.loadlineLBitmap3.getWidth();
    }
    if (value > 100) value = 100;
    s.progress = value;
    s.label.text = value + "%";
    s.label.x = LGlobal.width * 0.5 - s.label.getWidth() * 0.5;
};